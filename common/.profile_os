# shellcheck shell=bash

# OS Version
if [[ "$OSTYPE" == *"darwin"* ]] ; then
    export OS="mac"
elif [[ "$OSTYPE" == *"linux-gnueabihf"* ]] && [[ "$MACHTYPE" == *"arm"* ]]; then
    export OS="raspi"
elif [[ "$(cat /proc/device-tree/model)" == "Raspberry Pi 4"* ]]; then
    export OS="raspi"
elif [[ "$OSTYPE" == *"linux-gnu"* ]] && [[ "$(uname -r)" == *"qnap"* ]]; then
    export OS="qnap"
    export ARCH="intel"
elif [[ "$OSTYPE" == *"linux-gnu"* ]] && [[ "$CPUTYPE" == "aarch64" ]] ; then
    export OS="qnap"
    export ARCH="arm"
elif [[ "$OSTYPE" == *"linux-gnu"* ]] && [[ "$MACHTYPE" == *"x86_64-pc-linux-gnu"* ]] ; then
    export OS="gnu"
elif [[ "$OSTYPE" == *"linux-gnu"* ]] && [[ "$MACHTYPE" == *"x86_64"* ]] ; then
    export OS="gnu"
fi